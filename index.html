import React, { useState } from "react";

const categories = [
  { name: "Cleaning", icon: "ðŸ§¹" },
  { name: "Repair", icon: "ðŸ”§" },
  { name: "Tutoring", icon: "ðŸ“š" },
  { name: "Plumbing", icon: "ðŸš°" },
  { name: "Electrical", icon: "ðŸ’¡" },
  { name: "Beauty", icon: "ðŸ’…" },
];

const servicesNearYou = [
  {
    id: 1,
    name: "Plumbing Fix",
    provider: "Rajesh Kumar",
    distance: "5 minutes away",
    description: "Quick and reliable plumbing repairs near you.",
    image: "https://randomuser.me/api/portraits/men/75.jpg",
  },
  {
    id: 2,
    name: "Electrical Repair",
    provider: "Anita Sharma",
    distance: "7 minutes away",
    description: "Certified electrician at your doorstep.",
    image: "https://randomuser.me/api/portraits/women/65.jpg",
  },
];

const Homepage = () => {
  const [searchTerm, setSearchTerm] = useState("");
  const [userLocation, setUserLocation] = useState("Delhi");

  const filteredServices = servicesNearYou.filter(
    (service) =>
      service.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
      service.provider.toLowerCase().includes(searchTerm.toLowerCase())
  );

  return (
    <div style={styles.container}>
      <header style={styles.header}>
        <h1>Service by Local</h1>
        <input
          type="text"
          placeholder="Search services"
          value={searchTerm}
          onChange={(e) => setSearchTerm(e.target.value)}
          style={styles.searchBar}
        />
      </header>

      <section style={styles.categories}>
        {categories.map((cat) => (
          <div key={cat.name} style={styles.category}>
            <span style={styles.categoryIcon}>{cat.icon}</span>
            <span>{cat.name}</span>
          </div>
        ))}
      </section>

      {userLocation && (
        <section style={styles.servicesNearYou}>
          <h2>Services Near You ({userLocation})</h2>
          {filteredServices.map((service) => (
            <div key={service.id} style={styles.serviceCard}>
              <img
                src={service.image}
                alt={service.provider}
                style={styles.serviceImage}
              />
              <div>
                <h3>{service.name}</h3>
                <p>{service.provider}</p>
                <p>{service.distance}</p>
                <p>{service.description}</p>
                <button style={styles.viewProfileBtn}>View Profile</button>
              </div>
            </div>
          ))}
        </section>
      )}
    </div>
  );
};

const styles = {
  container: {
    fontFamily: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",
    maxWidth: 600,
    margin: "auto",
    padding: 20,
  },
  header: {
    marginBottom: 20,
  },
  searchBar: {
    width: "100%",
    padding: 10,
    fontSize: 16,
    borderRadius: 8,
    border: "1px solid #ccc",
    marginTop: 10,
  },
  categories: {
    display: "flex",
    justifyContent: "space-between",
    marginBottom: 30,
    flexWrap: "wrap",
  },
  category: {
    width: "30%",
    backgroundColor: "#eee",
    borderRadius: 8,
    padding: 15,
    textAlign: "center",
    cursor: "pointer",
    marginBottom: 15,
  },
  categoryIcon: {
    display: "block",
    fontSize: 30,
    marginBottom: 8,
  },
  servicesNearYou: {
    marginTop: 10,
  },
  serviceCard: {
    display: "flex",
    border: "1px solid #ddd",
    borderRadius: 8,
    padding: 15,
    marginBottom: 15,
    gap: 15,
  },
  serviceImage: {
    width: 80,
    height: 80,
    borderRadius: 8,
    objectFit: "cover",
  },
  viewProfileBtn: {
    marginTop: 10,
    backgroundColor: "#0077cc",
    color: "white",
    border: "none",
    padding: "6px 12px",
    borderRadius: 5,
    cursor: "pointer",
  },
};

export default Homepage;
